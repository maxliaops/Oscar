<!DOCTYPE doctype PUBLIC "-//w3c//dtd html 4.0 transitional//en">
<html>
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
  <meta name="Author" content="Richard S. Hall"><title>Oscar Subversion Repository</title>
</head>

<body text="#000000" bgcolor="#ffffff" link="#0000ee" vlink="#551a8b" alink="#ff0000">
<font face="sans-serif">

<h2>Oscar Subversion Repository</h2>

<tt>Release version: 1.0.5 - May 13, 2005</tt>

<ul>
   <li> <a href="#introduction">Introduction</a></li>
   <li> <a href="#structure">Repository Structure</a></li>
   <li> <a href="#trunk">Retrieving the Trunk</a></li>
   <li> <a href="#releases">Retrieving Releases</a></li>
   <li> <a href="#build">Building Oscar</a></li>
</ul>

<a name="introduction"></a>
<h2>Introduction</h2>

<p>
The Oscar project is available via anonymous access from a
Subversion repository hosted on the
<a href="http://forge.objectweb.org/projects/oscar">ObjectWeb Forge
project page</a>. This repository contains all Oscar framework source
code (i.e., the OSGi framework implementation), one simple example
bundle, user documentation, and other miscellaneous files needed to
build Oscar from scratch. A benefit of having Oscar available via
Subversion is that it is now possible to gain access to bug fixes and
feature enhancements before official releases are published.
This document describes the structure of Oscar's Subversion repository
and the basic commands needed to anonymously access the repository.
This document does not describe in detail how to build Oscar; for
more information on building Oscar refer to the
<a href="build.html">build document</a>.
</p>

<p>
<i>
(This document assumes that you have a Subversion client installed
on your computer.)
</i>
</p>

<a name="structure"></a>
<h2>Repository Structure</h2>

<p>
The Oscar repository is located at the following URL:
</p>

<pre>
<font color="000099">
    svn://svn.forge.objectweb.org/svnroot/oscar
</font>
</pre>

<p>
The root of the repository contains the following three directories:
</p>

<ul>
  <li><tt>trunk/</tt> - contains the source code for the main line of
      development.
  </li>
  <li><tt>tags/</tt> - contains tagged snapshots of the source code
      where each snapshot corresponds to an official Oscar release.
  </li>
  <li><tt>branches/</tt> - contains experimental branches of the source
      code that contains modifications that may or may not be merged
      back into the trunk.
  </li>
</ul>

<p>
To view this structure using the standard Subversion command-line client,
you type:
</p>

<pre>
<font color="000099">
    svn list svn://svn.forge.objectweb.org/svnroot/oscar
</font>
</pre>

<p>
The <tt>svn list</tt> command can be used to browse the entire
Oscar repository in a fashion similar to command-line access to
the file system.
</p>

<a name="trunk"></a>
<h2>Retrieving the Trunk</h2>

<p>
Often bug fixes or feature enhancements will be applied to the
trunk a while before an official Oscar release is published. In
a situation where you want the latest and greatest version of
Oscar or, perhaps, need a specific bug fix or feature, then you
should retrieve the trunk and build a new set of Oscar JAR files.
To retrieve the trunk, type:
</p>

<pre>
<font color="000099">
    svn checkout svn://svn.forge.objectweb.org/svnroot/oscar/trunk
</font>
</pre>

<p>
This command creates a working copy of the head of the trunk in your
current directory; it places the trunk in a directory called
<tt>trunk/</tt>. If you prefer a more meaningful name, you can specify
a directory name, such as:
</p>

<pre>
<font color="000099">
    svn checkout svn://svn.forge.objectweb.org/svnroot/oscar/trunk oscar
</font>
</pre>

<p>
This command creates a working copy of the head of the trunk in your
current directory in a directory called <tt>oscar/</tt>. Once you
created a working copy of the trunk, it is not necessary to check it
out again to update the source code to the latest version of the
trunk source code. To update to the latest trunk source code, from
inside the directory of your working copy, type:
</p>

<pre>
<font color="000099">
    svn update
</font>
</pre>

<p>
This command will synchronize your working copy with the latest
version of the trunk in the repository. The change log in the
<tt>doc/</tt> directory of your working copy will generally be
kept up-to-date with respect to applied changes, so refer to it
for details. To build the trunk, refer to the
<a href="#build">build section</a> below. If you no longer wish
to have a working copy of the trunk, you can simply delete your
working copy directory.
</p>

<a name="releases"></a>
<h2>Retrieving Releases</h2>

<p>
If you want to retrieve a specific official release of Oscar, you
will probably first want to see which releases are available by
issuing the following Subversion command:
</p>

<pre>
<font color="000099">
    svn list svn://svn.forge.objectweb.org/svnroot/oscar/tags
</font>
</pre>

<p>
This will display a list of all tagged releases; the will have names
like "<tt>release-1.0.0</tt>" and "<tt>release-1.0.1</tt>". To make
a copy of a specific release, use a command like the following:
</p>

<pre>
<font color="000099">
    svn checkout svn://svn.forge.objectweb.org/svnroot/oscar/tags/release-1.0.1
</font>
</pre>

<p>
This command will create a working copy of release 1.0.1 in your current
directory. For information on how to build the release, refer to the next
section.
</p>

<a name="build"></a>
<h2>Building Oscar</h2>

<p>
To build Oscar you will need to have at least version <tt>1.6</tt>
of Ant installed. Assuming that you have Ant installed correctly,
from inside your working copy directory type "<tt>ant</tt> and
the Oscar JAR files will build and be placed into a directory
called <tt>lib/</tt>. It is not possible to run Oscar directly
from your working copy directly by default. If you want to run
your newly built version of Oscar, you have two choices:
<p>

<ol>
  <li>Copy the JAR files from your working copy <tt>lib/</tt> into
      a previously installed Oscar <tt>lib/</tt> directory.
  </li>
  <li>Copy the necessary shell bundles and system properties file
      into your working copy's <tt>bundle/</tt> and <tt>lib/</tt>
      directories, respectively.
  </li>
</ol>

<p>
The second approach sounds more difficult, but it is probably the
better approach since it does overwrite your Oscar installation.
The details of the second approach are as follows:
</p>

<ul>
  <li>Copy the following shell-related bundles into your working
      copy's <tt>bundle/</tt> directory:
      <ul>
        <li><tt>shell.jar</tt></li>
        <li><tt>shelltui.jar</tt></li>
        <li><tt>shellgui.jar</tt></li>
        <li><tt>shellplugin.jar</tt></li>
        <li><tt>tablelayout.jar</tt></li>
        <li><tt>bundlerepository.jar</tt></li>
      </ul>
  </li>
  <li>From your working copy directory, copy either the
      <tt>ext/system.properties.text</tt> or
      <tt>ext/system.properties.gui</tt> file (depending on
      whether you want the text shell or the GUI shell,
      respectively) to <tt>lib/system.properties</tt>; it is
      <b>very important</b> that when you copy this file to
      <tt>lib/</tt> that you also rename it to
      <tt>system.properties</tt>, otherwise Oscar will not
      recognize it.
  </li>
</ul>

<p>
After these two steps, you are free to start Oscar as normal
(i.e., <tt>java -jar lib/oscar.jar</tt>). If you want more
information about building Oscar, refer to the
<a href="build.html">build document<a>
</p>

<a name="final"></a>
<h2>Final Comments</h2>
<p>
If you have comments or suggestions, feel free
to contact me at <a href="mailto:heavy@ungoverned.org">heavy@ungoverned.org</a>
</p>
<p>Richard S. Hall </p>

</font>
</body></html>
